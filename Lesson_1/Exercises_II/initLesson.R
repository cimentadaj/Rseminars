# Code placed in this file fill be executed every time the
      # lesson is started. Any variables created here will show up in
      # the user's working directory and thus be accessible to them
      # throughout the lesson.

url <- "http://deron.meranda.us/data/census-derived-all-first.txt"
firstnames <- read.table(url(url), header=FALSE)
names <- sample(tolower(firstnames$V1), 100)

rnorm_limits <- function(lower, upper, n, mean, sd) {
  samp <- rnorm(n, mean, sd)
  
  if (!(any(samp > upper) || any(samp < lower))) {
    return(samp)
  } else {
    rnorm_limits(lower, upper, n, mean, sd)
  }
}

math_tests <- data.frame(id = seq_along(names),
                         name = names,
                         math_score = rnorm_limits(55, 100, 100, 70, 9))

science_tests <- data.frame(id = seq_along(names),
                            name = names,
                            science_score = rnorm_limits(55, 100, 100, 70, 9))

literacy_scores <- setNames(rnorm_limits(55, 100, 100, 80, 5), sample(100, 100, replace = F))

all_tests <- structure(list(id = c(1L, 10L, 100L, 11L, 12L, 13L, 14L, 15L, 
                      16L, 17L, 18L, 19L, 2L, 20L, 21L, 22L, 23L, 24L, 25L, 26L, 27L, 
                      28L, 29L, 3L, 30L, 31L, 32L, 33L, 34L, 35L, 36L, 37L, 38L, 39L, 
                      4L, 40L, 41L, 42L, 43L, 44L, 45L, 46L, 47L, 48L, 49L, 5L, 50L, 
                      51L, 52L, 53L, 54L, 55L, 56L, 57L, 58L, 59L, 6L, 60L, 61L, 62L, 
                      63L, 64L, 65L, 66L, 67L, 68L, 69L, 7L, 70L, 71L, 72L, 73L, 74L, 
                      75L, 76L, 77L, 78L, 79L, 8L, 80L, 81L, 82L, 83L, 84L, 85L, 86L, 
                      87L, 88L, 89L, 9L, 90L, 91L, 92L, 93L, 94L, 95L, 96L, 97L, 98L, 
                      99L), name = structure(c(61L, 70L, 99L, 50L, 27L, 87L, 82L, 23L, 
                                               47L, 21L, 68L, 63L, 12L, 73L, 86L, 44L, 66L, 77L, 39L, 80L, 29L, 
                                               84L, 96L, 22L, 97L, 24L, 54L, 41L, 91L, 7L, 74L, 19L, 72L, 2L, 
                                               3L, 58L, 18L, 32L, 26L, 17L, 28L, 56L, 59L, 69L, 89L, 65L, 42L, 
                                               1L, 10L, 4L, 75L, 49L, 11L, 52L, 94L, 60L, 55L, 8L, 14L, 25L, 
                                               35L, 78L, 15L, 93L, 92L, 40L, 5L, 13L, 88L, 85L, 6L, 79L, 76L, 
                                               37L, 83L, 81L, 38L, 62L, 51L, 53L, 46L, 48L, 45L, 43L, 64L, 71L, 
                                               36L, 67L, 98L, 90L, 16L, 34L, 100L, 33L, 9L, 20L, 31L, 30L, 95L, 
                                               57L), .Label = c("adrien", "alecia", "alisha", "allyn", "alvera", 
                                                                "angele", "annamarie", "ayesha", "beaulah", "brigida", "carma", 
                                                                "caron", "carri", "cindy", "codi", "concetta", "corrin", "coy", 
                                                                "cyrstal", "deangelo", "denisse", "diane", "dolly", "domonique", 
                                                                "donnette", "dori", "edward", "elijah", "elly", "ellyn", "elroy", 
                                                                "emmitt", "ervin", "eugenie", "gaynell", "gerda", "grace", "haydee", 
                                                                "helena", "herschel", "hershel", "iola", "isobel", "jamila", 
                                                                "jayme", "jeane", "jed", "joella", "jonathan", "jonna", "katheryn", 
                                                                "lanell", "larue", "lavina", "leah", "leopoldo", "leroy", "lesia", 
                                                                "lien", "luanna", "luke", "madge", "magda", "mandie", "marco", 
                                                                "marya", "melinda", "merri", "michaele", "muriel", "myriam", 
                                                                "ned", "nelida", "otha", "palma", "paola", "pilar", "rasheeda", 
                                                                "regenia", "rey", "risa", "sarina", "scot", "shae", "sharie", 
                                                                "shela", "sol", "steve", "sudie", "synthia", "terrie", "theressa", 
                                                                "tiffaney", "tosha", "venessa", "verdell", "warren", "xavier", 
                                                                "yadira", "zoraida"), class = "factor"), math_score = c(89.2128512350302, 
                                                                                                                        82.152949118858, 73.900445146472, 75.9501946623346, 65.750331445217, 
                                                                                                                        65.5942457639838, 90.155150619362, 66.2337033509277, 75.7431588313698, 
                                                                                                                        65.3437140666584, 86.8255895502355, 67.845275174766, 65.156184476329, 
                                                                                                                        68.1427917292215, 60.5118864514843, 62.3669724904564, 70.2502732268976, 
                                                                                                                        62.3848766018649, 68.8695625877917, 67.5753288372865, 74.4252668358942, 
                                                                                                                        66.5262810743299, 82.2579971738447, 63.3729298226902, 69.1350978252538, 
                                                                                                                        66.389496306915, 71.7382275283387, 71.9045109739464, 69.1769805021781, 
                                                                                                                        72.0782963954248, 80.0120247859893, 77.4000516721067, 78.0584613758726, 
                                                                                                                        71.0527103133339, 72.1148823557928, 56.3221821952573, 71.0435417865997, 
                                                                                                                        91.7551850496008, 59.892758321792, 61.917320452768, 65.8307151490112, 
                                                                                                                        83.8962626263116, 57.9607475510689, 61.5067520799317, 80.6729022459834, 
                                                                                                                        74.8229956349602, 83.334173762819, 78.895372759168, 59.2371815717314, 
                                                                                                                        82.7903423103535, 55.532087487186, 70.5538529151233, 71.0560530625393, 
                                                                                                                        67.6311453970034, 79.216929409246, 61.5351084212392, 64.2282543852879, 
                                                                                                                        56.8021115635693, 77.0462834153057, 78.3694171762265, 71.9380573935578, 
                                                                                                                        76.7895108966281, 70.1722644677948, 67.6498910772701, 67.6078708889587, 
                                                                                                                        73.4442053359878, 57.6338705582069, 56.0554098003956, 83.7141625867939, 
                                                                                                                        75.9136462636605, 57.394700320293, 76.8706679764613, 64.8349512263768, 
                                                                                                                        62.8753275378346, 90.7449466656668, 87.8910520154236, 68.6055218271008, 
                                                                                                                        70.1830697080047, 65.7990286769683, 70.2384913156038, 72.3799513246597, 
                                                                                                                        55.7705323490193, 71.0713748016391, 78.1148219749277, 68.1447335113521, 
                                                                                                                        81.1802886851611, 79.2964181039664, 62.0261974178995, 69.8320347211088, 
                                                                                                                        66.8848281177101, 57.66264409602, 72.7626628081137, 76.851521025349, 
                                                                                                                        77.6045251081157, 77.1492347885575, 74.6467930198125, 90.2669982317042, 
                                                                                                                        69.1652989397638, 76.1816245487027, 67.0928332439728), type_grade = c("A", 
                                                                                                                                                                                              "A", "B", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", 
                                                                                                                                                                                              "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", 
                                                                                                                                                                                              "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", 
                                                                                                                                                                                              "A", "A", "A", "A", "A", "A", "A", "B", "B", "B", "B", "B", "B", 
                                                                                                                                                                                              "B", "B", "B", "A", "B", "B", "B", "B", "B", "B", "B", "B", "B", 
                                                                                                                                                                                              "B", "A", "B", "B", "B", "B", "B", "B", "B", "B", "B", "B", "A", 
                                                                                                                                                                                              "B", "B", "B", "B", "B", "B", "B", "B", "B", "B", "A", "B", "B", 
                                                                                                                                                                                              "B", "B", "B", "B", "B", "B", "B", "B"), passed = c(TRUE, TRUE, 
                                                                                                                                                                                                                                                  TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, 
                                                                                                                                                                                                                                                  FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, 
                                                                                                                                                                                                                                                  FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, TRUE, TRUE, 
                                                                                                                                                                                                                                                  TRUE, TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, 
                                                                                                                                                                                                                                                  TRUE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE, FALSE, 
                                                                                                                                                                                                                                                  TRUE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, 
                                                                                                                                                                                                                                                  TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, 
                                                                                                                                                                                                                                                  TRUE, FALSE, FALSE, TRUE, TRUE, FALSE, TRUE, FALSE, TRUE, TRUE, 
                                                                                                                                                                                                                                                  FALSE, TRUE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, 
                                                                                                                                                                                                                                                  TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, TRUE, FALSE), science_score = c(55.3858308113586, 
                                                                                                                                                                                                                                                                                                                             72.9165179552415, 64.5429565076777, 55.0807017441893, 68.5188464928911, 
                                                                                                                                                                                                                                                                                                                             64.6524751710541, 56.3423351723145, 86.3571176931347, 97.1762035950503, 
                                                                                                                                                                                                                                                                                                                             64.4322983105606, 58.497195820622, 73.8509240118733, 64.9637179653565, 
                                                                                                                                                                                                                                                                                                                             65.349976569102, 65.9981688531457, 55.5626854937785, 77.1546349614989, 
                                                                                                                                                                                                                                                                                                                             74.5739349781011, 77.8291335630691, 79.3486980798436, 73.4544429866036, 
                                                                                                                                                                                                                                                                                                                             73.7170832687464, 84.4080783055118, 61.2749610523971, 69.4649540786571, 
                                                                                                                                                                                                                                                                                                                             59.8935215805696, 84.98799052356, 58.5504306937037, 62.8514836874093, 
                                                                                                                                                                                                                                                                                                                             72.3844422125041, 75.2112908764802, 77.5469183407054, 59.0733087223516, 
                                                                                                                                                                                                                                                                                                                             69.5658425361686, 75.2393549838333, 62.850001056189, 65.6640634035966, 
                                                                                                                                                                                                                                                                                                                             81.5473860362832, 76.5370052711971, 75.8323786402051, 74.5652071551269, 
                                                                                                                                                                                                                                                                                                                             64.1053374414035, 76.3758642705711, 77.7904884776751, 65.3678376799654, 
                                                                                                                                                                                                                                                                                                                             73.6801297561474, 82.2168205456328, 72.2293393969083, 65.804793128427, 
                                                                                                                                                                                                                                                                                                                             96.1391240132683, 75.1878224884838, 66.481097084443, 70.2430947405594, 
                                                                                                                                                                                                                                                                                                                             63.5641247429706, 85.9813073077751, 74.8774956859861, 64.5848270379835, 
                                                                                                                                                                                                                                                                                                                             70.8433727722196, 59.4415169252442, 71.9523764483575, 58.8014495899349, 
                                                                                                                                                                                                                                                                                                                             79.6315799855069, 65.0749394416658, 67.5629944150055, 71.2314709675957, 
                                                                                                                                                                                                                                                                                                                             77.4034761340109, 71.7084445624844, 71.76072363724, 57.8872365798389, 
                                                                                                                                                                                                                                                                                                                             70.8889171825249, 75.5660652316306, 64.3415229062937, 76.1143991203341, 
                                                                                                                                                                                                                                                                                                                             64.5428548956257, 57.4056339314485, 76.6962459278466, 59.9095117680496, 
                                                                                                                                                                                                                                                                                                                             72.5925565304024, 56.7221891272894, 74.7451405821317, 64.4798001384381, 
                                                                                                                                                                                                                                                                                                                             82.2741507220717, 78.5351553008582, 60.7626070811217, 72.4425542219647, 
                                                                                                                                                                                                                                                                                                                             84.1178167877261, 70.4211013926906, 60.9524517342479, 90.4206516596697, 
                                                                                                                                                                                                                                                                                                                             83.2905647637613, 73.2113412876976, 79.1058835060461, 61.1934163456637, 
                                                                                                                                                                                                                                                                                                                             74.0407011125245, 86.7635171466847, 78.3920027177617, 80.8189565460358, 
                                                                                                                                                                                                                                                                                                                             68.5470160647542, 72.8250762045676, 70.209613388222), passmath_failscience = c(TRUE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, 
                                                                                                                                                                                                                                                                                                                                                                                                            FALSE, FALSE, FALSE, FALSE, FALSE)), .Names = c("id", "name", 
                                                                                                                                                                                                                                                                                                                                                                                                                                                            "math_score", "type_grade", "passed", "science_score", "passmath_failscience"
                                                                                                                                                                                                                                                                                                                                                                                                            ), row.names = c(NA, -100L), class = "data.frame")