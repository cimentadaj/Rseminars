<!-- Pnorm1.rnw -->
<!-- url1 <- "https://gist.github.com/vasishth/ec4dd4afca10f6e8661f/archive/c91684924005bed3d250f7d4c41482d55aa229ac.zip"
destfile1 <- paste0(getwd(),"/","c91684924005bed3d250f7d4c41482d55aa229ac.zip")
download.file(url1, destfile1)
unzip(destfile1, exdir = getwd())

file.rename(paste0(getwd(),"/","ec4dd4afca10f6e8661f-c91684924005bed3d250f7d4c41482d55aa229ac","/","pnorm1.Rnw")
, paste0(getwd(),"/","pnorm1.Rnw"))

url2 <- "https://gist.github.com/vasishth/8b082454bc079ed5b47b/archive/039f0831a8ba461b13427d11b3ab488997cb450e.zip"
destfile2 <- paste0(getwd(),"/","039f0831a8ba461b13427d11b3ab488997cb450e.zip")
download.file(url2,destfile2)
unzip(destfile2, exdir = getwd())

file.rename(paste0(getwd(),"/","8b082454bc079ed5b47b-039f0831a8ba461b13427d11b3ab488997cb450e","/","sesamplesize1multiplechoice.Rnw")
, paste0(getwd(),"/","sesamplesize1multiplechoice.Rnw"))

url3 <- "https://gist.github.com/vasishth/cba616388c4bc62263f0/archive/a6b01a1f691e84498541026caacf44592228de20.zip"
destfile3 <- paste0(getwd(),"/","a6b01a1f691e84498541026caacf44592228de20.zip")
download.file(url3,destfile3)
unzip(destfile3, exdir = getwd())

file.rename(paste0(getwd(),"/","cba616388c4bc62263f0-a6b01a1f691e84498541026caacf44592228de20","/","solutiontest.tex")
, paste0(getwd(),"/","solutiontest.tex"))

url4 <- "https://gist.github.com/vasishth/226e170ed856f51b9990/archive/a5be9b6c51b311c5ef1c1e4ad2a53b613c52996b.zip"
destfile4 <- paste0(getwd(),"/","a5be9b6c51b311c5ef1c1e4ad2a53b613c52996b.zip")
download.file(url4, destfile4)
unzip(destfile4, exdir = getwd())

file.rename(paste0(getwd(),"/","226e170ed856f51b9990-a5be9b6c51b311c5ef1c1e4ad2a53b613c52996b","/","test.tex")
, paste0(getwd(),"/","test.tex"))

url5 <- "https://gist.githubusercontent.com/vasishth/3b767e39dba9fc2df65b/raw/d5a2f068912e152fbdbeba0a2c377d377750f1f2/ExampleExamCode.R"
destfile5 <- paste0(getwd(),"/","ExampleExamCode.R")
download.file(url5, destfile5)

source(paste0(getwd(),"/","ExampleExamCode.R")) -->

In order for this presentation to work, you need to run this code first:

```{r eval=F}
install.packages("devtools")  
library(devtools)  
source_url("https://raw.githubusercontent.com/cimentadaj/Rseminars/master/packages.R")
```

After running the code, remember to make the three lines as a comment so they don't appear in the presentation.

========================================================
# First seminar  
# Introduction to R and its strengths  
Jorge Cimentada  
5th of March of 2016  

![] (http://brunalab.org/wp-content/uploads/2015/04/R_logo.svg_.png)

Outline
========================================================

- Defining R and how it works  
- Exploring R and Rstudio  
- R graphics 
  + for teaching  
  + for exploratory analysis  
  + advanced  
  + interactive graphs  
  + maps  
- R reports and presentations  
- R for exercises and homework  
- Extra: R summary statistics  


What is R?
========================================================

- R is a language and environment for statistical computing and graphics  

- An effective data handling and storage facility;
- A large, coherent, integrated collection of intermediate tools for data analysis;
- Graphical facilities for data analysis and display either on-screen or on hardcopy;
- Simple and effective programming language which includes conditionals, loops, user-defined recursive functions and input and output facilities.

Do you know what General Public License or GNU is?
========================================================

* You have the freedom to run the program as you wish, for any purpose (freedom 0).

* You have the freedom to study how the program works, and change it so it does your computing as you wish (freedom 1).

* You have the freedom to redistribute copies so you can help your neighbor (freedom 2).

* You have the freedom to distribute copies of your modified versions to others (freedom 3).


How does R work?
========================================================

- [R  foundation](https://www.r-project.org/foundation/)

- [R Mailing Lists]((https://www.r-project.org/mail.html)

- [Packages](https://cran.r-project.org/)

Getting started
========================================================
- Go to www.r-project.org
- Downloads: CRAN
- Set your Mirror: Anywhere in Spain is fine.
- Select 'Download R for Windows'.
- Select base.
- Select R 3.2.3 for Windows
    + The others are if you are a developer and wish to change
the source code.

Let's go to R!
========================================================
![R interface] (http://freestatisticalsoftware.com/wp-content/uploads/2012/06/R-Interface.jpg)

Downloading Rstudio
========================================================
 - [Rstudio for Windows](https://download1.rstudio.org/RStudio-0.99.892.exe)
 - [Rstudio for Macs](https://download1.rstudio.org/RStudio-0.99.892.dmg)
 - [Rstudio for Ubuntu/Linux](https://download1.rstudio.org/rstudio-0.99.892-i386.deb)
 
 ![] (http://muon-stat.com/Vortrag_Shiny/assets/img/rstudiologo.png)
 
 How does Rstudio look?
========================================================

 ![R studio interface] (https://www.rstudio.com/wp-content/uploads/2014/04/rstudio-windows.png)
 
 What are R's strengths?
========================================================
> Adapted from 'R for Stata users' by Muenchen and Hilbe
 
* Comprehensible repertoire of statistical techniques
* R is directly accessible from many statistics packages like SAS, SPSS and Stata.
* Every aspect of R is open for anyone to modify in any way they like. 
* **R also offers the very flexible and powerful Grammar of Graphics approach. Developers have even gone so far as replacing R’s core graphical system.**
* R is free. This helps to attract developers and is a major reason that there are so many add-on
packages for it.

 What are R's strengths?
========================================================
> Adapted from 'R for SPSS and SAS users' by Robert Muenchen

* It takes most statistics packages at least 5 years to add a major new analytic method;
* You can do all your data management with any software you prefer, and learn just enough R to import
a file and run the procedure you need.
* SAS or SPSS requires using a different language such as C or Python to program functions; R uses its own language
* R’s graphics are extremely flexible and are of publication quality.
* R is free.

R's weaknesses
========================================================

According to Roger Peng, Associate Professor at John Hopkins University:

* Memory management;
* Speed;
* Efficiency;

* **__Is R imprecise?__**  
R packages go through “Alpha,” “Beta,” and “Release Candidate” testing phases, which
are open to the public. Each phase has tighter restrictions on modifications
of R.

R graphics - Teaching
========================================================

**__Problem = Explanatory graphs for teaching__**

```{r echo=F, fig.width=15}
xbar.therapy <- 92
s.therapy <- 8.5
xbar.placebo <- 85
s.placebo <- 9.1
n <- 15
xdiff <- xbar.therapy - xbar.placebo
sdiff <- sqrt((s.therapy^2 + s.placebo^2)/2) * sqrt(2/n)
sdiff <- sqrt(s.therapy^2 + s.placebo^2)/sqrt(n)

muH0 <- 0
muH1 <- 8

t0 <- (xdiff - muH0)/sdiff
par(cex.main = 1.5, mar = c(4, 4.5, 4.5, 1), mgp = c(3.5, 1, 0), cex.lab = 1.5, 
    font.lab = 2, cex.axis = 1.8, bty = "n", las = 1)
par(mar = c(4, 4.5, 4.5, 1))

# Bayes Factor (or, ugliest code ever and I DO NOT CARE TO FIX IT)
x <- seq(-15, 30, by = 0.001)
y <- dt(x/sdiff, df = 28)

y1 <- dt((x - 1)/sdiff, df = 28)
y2 <- dt((x - 2)/sdiff, df = 28)
y3 <- dt((x - 3)/sdiff, df = 28)
y4 <- dt((x - 4)/sdiff, df = 28)
y5 <- dt((x - 5)/sdiff, df = 28)
y6 <- dt((x - 6)/sdiff, df = 28)
y7 <- dt((x - 7)/sdiff, df = 28)
y8 <- dt((x - 8)/sdiff, df = 28)
y9 <- dt((x - 9)/sdiff, df = 28)
y10 <- dt((x - 10)/sdiff, df = 28)

plot(x, y, type = "l", axes = FALSE, xlab = NA, ylab = NA, xlim = c(-15, 25), 
    lwd = 2)

lines(x, y1, col = "grey70")
lines(x, y2, col = "grey70")
lines(x, y3, col = "grey70", lwd = 2)
lines(x, y4, col = "grey70")
lines(x, y5, col = "grey70", lwd = 2)
lines(x, y6, col = "grey70")
lines(x, y7, col = "grey70")
lines(x, y8, col = "grey70", lwd = 2)
lines(x, y9, col = "grey70")
lines(x, y10, col = "grey70", lwd = 2)

axis(side = 1, at = seq(-15, 30, by = 5), pos = 0, lwd = 2, cex.axis = 1.7)
axis(side = 1, at = 7, pos = 0, col = "red4", col.axis = "red4", lwd = 2, padj = 0.1)
abline(v = xdiff, col = "red4", lwd = 2)

L0 <- dt((xdiff/sdiff), df = 28)
L1 <- dt(((xdiff - 1)/sdiff), df = 28)
L2 <- dt(((xdiff - 2)/sdiff), df = 28)
L3 <- dt(((xdiff - 3)/sdiff), df = 28)
L4 <- dt(((xdiff - 4)/sdiff), df = 28)
L5 <- dt(((xdiff - 5)/sdiff), df = 28)
L6 <- dt(((xdiff - 6)/sdiff), df = 28)
L7 <- dt(((xdiff - 7)/sdiff), df = 28)
L8 <- dt(((xdiff - 8)/sdiff), df = 28)
L9 <- dt(((xdiff - 9)/sdiff), df = 28)
L10 <- dt(((xdiff - 10)/sdiff), df = 28)

lines(c(6.7, 7.3), y = rep(L0, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L1, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L2, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L3, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L4, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L5, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L6, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L7, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L8, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L9, 2), col = "red4", lwd = 2)
lines(c(6.7, 7.3), y = rep(L10, 2), col = "red4", lwd = 2)

text(-16.8, 0.35, expression(paste(H[0], " : ", mu[diff], " = 0", sep = "")), 
    adj = 0, cex = 1.6)
text(-16.8, 0.3, expression(paste(H[1], " : 0", "" <= mu[diff], "" <= 10), sep = ""), 
    adj = 0, cex = 1.6)
text(15, 0.35, expression(paste(italic("L"), "(", H[0], ") = .04")), adj = 0, 
    col = "red4", cex = 1.6)
text(15, 0.3, expression(paste(italic("L"), "(", H[1], ") = .10")), adj = 0, 
    col = "red4", cex = 1.6)
text(14.2, 0.22, expression(paste("BF = ", frac(".10", ".04"), " = ", 2.5, sep = "")), 
    adj = 0, col = "red4", cex = 1.6)
mtext(expression(bar(x)[diff]), side = 1, line = 2, at = 6.5, adj = 0, col = "red4", 
    cex = 1.8, padj = 0.1)
```

R graphics - Teaching
========================================================

**__Problem = Showing overlapping variation using distributions__**
```{r echo=F, fig.width=15}
op <- par(mar = c(4, 0, 0, 4))

x <- seq(-12, 12, 0.1)
x.ticks <- seq(-12, 12, 2)
y <- x
z <- matrix(0, ncol = length(x), nrow = length(y))
z[, 1] <- dnorm(x)
zcol <- matrix(0, ncol = length(x), nrow = length(y))
zcol[, 1] <- "black"

res <- persp(x, y, z, theta = 0, phi = 0, expand = 0.4, xlab = "", ylab = "", 
    ticktype = "detailed", cex.lab = 0.8, zlab = "", box = FALSE, border = FALSE, 
    xlim = c(-13, 13))
polygon(trans3d(c(x, rev(x)), y = rep(y[1], 2 * length(x)), z = c(dnorm(y, 3.8, 
    2), rep(0, length(x))), pmat = res), col = rgb(red = 190, green = 190, blue = 190, 
    alpha = 100, maxColorValue = 300), border = NA)
polygon(trans3d(c(x, rev(x)), y = rep(y[41], 2 * length(x)), z = c(dnorm(y, 6.8), 
    rep(0, length(x))), pmat = res), col = rgb(red = 190, green = 190, blue = 190, 
    alpha = 140, maxColorValue = 300), border = NA)
polygon(trans3d(c(x, rev(x)), y = rep(y[81], 2 * length(x)), z = c(dnorm(y, -1, 
    2.5), rep(0, length(x))), pmat = res), col = rgb(red = 190, green = 190, 
    blue = 190, alpha = 180, maxColorValue = 300), border = NA)
polygon(trans3d(c(x, rev(x)), y = rep(y[121], 2 * length(x)), z = c(dnorm(y, 
    -5), rep(0, length(x))), pmat = res), col = rgb(red = 190, green = 190, blue = 190, 
    alpha = 220, maxColorValue = 300), border = NA)
polygon(trans3d(c(x, rev(x)), y = rep(y[161], 2 * length(x)), z = c(dnorm(y, 
    2.5, 1.5), rep(0, length(x))), pmat = res), col = rgb(red = 190, green = 190, 
    blue = 190, alpha = 260, maxColorValue = 300), border = NA)
polygon(trans3d(c(x, rev(x)), y = rep(y[201], 2 * length(x)), z = c(dnorm(y, 
    -9, 0.8), rep(0, length(x))), pmat = res), col = rgb(red = 190, green = 190, 
    blue = 190, alpha = 300, maxColorValue = 300), border = NA)

### draw x-axis
lines(trans3d(x[which(x == -8):which(x == 10)], min(y) - 2, min(z), res), col = "black", 
    lwd = 1.4)

# tick marks
tick.start <- trans3d(seq(-8, 10, 2), min(y) - 2, min(z), res)
tick.end <- trans3d(seq(-8, 10, 2), min(y) - 2, min(z - 0.01), res)
segments(tick.start$x, tick.start$y, tick.end$x, tick.end$y, lwd = 2.6)

# labels
labels <- seq(-8, -2, 2)
label.pos <- trans3d(seq(-8, -2, 2), min(y) - 2, min(z - 0.035), res)
text(label.pos$x, label.pos$y, labels = labels, cex = 1.6, adj = 0.65)
labels <- seq(0, 10, 2)
label.pos <- trans3d(seq(0, 10, 2), min(y) - 2, min(z - 0.035), res)
text(label.pos$x, label.pos$y, labels = labels, cex = 1.6, adj = 0.5)

### add labels to distributions
text(trans3d(3.8, y[1], dnorm(3.8, 3.8, 2) + 0.02, res), "a", cex = 1.7)
text(trans3d(6.8, y[41], dnorm(6.8, 6.8) + 0.024, res), "b", cex = 1.7)
text(trans3d(-1, y[81], dnorm(-1, -1, 2.5) + 0.027, res), "c", cex = 1.7)
text(trans3d(-5, y[121], dnorm(-5, -5) + 0.029, res), "d", cex = 1.7)
text(trans3d(2.5, y[161], dnorm(2.5, 2.5, 1.5) + 0.033, res), "e", cex = 1.7)
text(trans3d(-9, y[201], dnorm(-9, -9, 0.8) + 0.039, res), "f", cex = 1.7)

par(op)
```

R graphics - Teaching
========================================================

**__Problem = Showing overlapping variation using Venn diagrams__**
![Venn Diagram](data:image/png;base64,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)


R graphics - Exploratory analysis
========================================================
**__Problem = Nicely formatted barplot with minimum code__**
```{r, echo=T, fig.width=10, fig.height=7, fig.width=15}
## Run this in your console
library(ggplot2)
ggplot(diamonds, aes(clarity, fill=cut)) + geom_bar()
```

R graphics - Exploratory analysis
========================================================

**__Problem = Visualizing a bivariate relationship filtered by two variables__**
```{r, echo=T, fig.width=10, fig.height=5, fig.width=15}
## Run this in your console
library(ggplot2)
qplot(wt, mpg, data=mtcars, size=qsec, color=factor(carb))
```

R graphics - Exploratory analysis
========================================================
**__Problem = Visualizing a bivariate relationship by a categorical variable__**
```{r, echo=T, fig.height=5, fig.width=15, tidy=T}
## Run this in your console
library(ggplot2)
qplot(mpg, wt, data=mtcars, facets=cyl~., geom=c("point", "smooth")) + coord_flip()
```

R graphics - Exploratory analysis
========================================================
**__Problem = Combine existing graphs in a nice format__**  
```{r, echo=F}
library(ggplot2)

multiplot <- function(..., plotlist=NULL, file, cols=1, layout=NULL) {
  library(grid)

  # Make a list from the ... arguments and plotlist
  plots <- c(list(...), plotlist)

  numPlots = length(plots)

  # If layout is NULL, then use 'cols' to determine layout
  if (is.null(layout)) {
    # Make the panel
    # ncol: Number of columns of plots
    # nrow: Number of rows needed, calculated from # of cols
    layout <- matrix(seq(1, cols * ceiling(numPlots/cols)),
                    ncol = cols, nrow = ceiling(numPlots/cols))
  }

 if (numPlots==1) {
    print(plots[[1]])

  } else {
    # Set up the page
    grid.newpage()
    pushViewport(viewport(layout = grid.layout(nrow(layout), ncol(layout))))

    # Make each plot, in the correct location
    for (i in 1:numPlots) {
      # Get the i,j matrix positions of the regions that contain this subplot
      matchidx <- as.data.frame(which(layout == i, arr.ind = TRUE))

      print(plots[[i]], vp = viewport(layout.pos.row = matchidx$row,
                                      layout.pos.col = matchidx$col))
    }
  }
}

# This example uses the ChickWeight dataset, which comes with ggplot2
# First plot
p1 <- ggplot(ChickWeight, aes(x=Time, y=weight, colour=Diet, group=Chick)) +
    geom_line() +
    ggtitle("Growth curve for individual chicks")

# Second plot
p2 <- ggplot(ChickWeight, aes(x=Time, y=weight, colour=Diet)) +
    geom_point(alpha=.3) +
    geom_smooth(alpha=.2, size=1) +
    ggtitle("Fitted growth curve per diet")

# Third plot
p3 <- ggplot(subset(ChickWeight, Time==21), aes(x=weight, colour=Diet)) +
    geom_density() +
    ggtitle("Final weight, by diet")

# Fourth plot
p4 <- ggplot(subset(ChickWeight, Time==21), aes(x=weight, fill=Diet)) +
    geom_histogram(colour="black", binwidth=50) +
    facet_grid(Diet ~ .) +
    ggtitle("Final weight, by diet") +
    theme(legend.position="none")        # No legend (redundant in this graph) 
```

```{r echo=T ,fig.width=15, fig.height=7, tidy=T}
## Do not run this. It's incomplete code.
multiplot(p1, p2, p3, p4, cols=2)
```

R graphics - Exploratory analysis
========================================================
**__Problem = Visualize Likert type questions quickly__**
![likert] (http://reganmian.net/blog/images/2013-10-02-likert-graphs-in-r-embedding-metadata-for-easier-plotting-whole-05.png)

R graphics - Advanced
========================================================
**__Problem = Visualizing statistical techniques__**
<div align="center">
<img src="http://jason.bryer.org/images/multilevelPSA/pisaAssessmentPlot.png" width=800 height=600>
</div>


R graphics - Advanced
========================================================
**__Problem = Plotting distributions next to scatterplots__**
<div align="center">
<img src="https://whyevolutionistrue.files.wordpress.com/2015/09/f1-large.jpg?w=698&h=554" width=800 height=600>
</div>

R graphics - Advanced
========================================================
**__Problem = Making graphical summaries__**
<div align="center">
<img src="http://user2014.stat.ucla.edu/images/DianneCookLukeFostvedtIanLyttleAlexShum.png" width=800 height=600>
</div>

R graphics - Interactive graphs
========================================================
**__Problem = Exploring your data visually in a fast way__**  

```{r echo=T, eval=F}
## Run this in your console
library(openintro)
edaPlot(mtcars)
```

R graphics - Interactive graphs
========================================================
**__Problem = Getting QUALITY visualizations with almost no work.__**
- Let's go to the [console](https://github.com/cimentadaj/Rseminars/blob/master/ggvis.R) to get to know ggvis

  Advantages of ggvis over other graph packages:  
- HTML and Javascript graphics are the ones actually doing the work behind ggvis.

For more graphs, go [here](http://ggvis.rstudio.com/interactivity.html)

R graphics - Interactive graphs
========================================================
Let's play around!  
```{r echo=T, eval=F}
## Run this in your console
library(ggvis)
span <- waggle(0.2,1)
span <- left_right(0.2,1,step = 0.1)

mtcars %>%
    ggvis(~mpg, ~disp) %>%
    layer_lines() %>%
    layer_smooths(span=span)
```

- First 'span' variable will adjust the smoothness automatically
- Second 'span' variable will allow you to adjust smoothness with the left-right arrows

R graphics - Interactive graphs
========================================================
**__Problem = Getting QUALITY visualizations exportable to websites__**

```{r echo=T,eval=F}
## Run this in your console
library(plotly)
set.seed(100)
d <- diamonds[sample(nrow(diamonds), 1000), ]
plot_ly(d, x = carat, y = price, text = paste("Clarity: ", clarity),
        mode = "markers", color = carat, size = carat)
```

For more, check out [plotly](https://plot.ly/r/)

R graphics - Interactive graphs
========================================================

- Shiny has also interactive graphs which can be included in [websites](http://shiny.rstudio.com/gallery/)
- [Simpler example](http://shiny.rstudio.com/gallery/kmeans-example.html)


R graphics - Interactive graphs
========================================================

- [rCharts](http://rcharts.io/gallery/)  

```{r results = 'asis', echo=F}
## Run this in your console
require(googleVis)
M <- gvisMotionChart(Fruits, "Fruit", "Year", options=list(width=800, height=410))
print(M, tag='chart')
```

R graphics - Maps
========================================================

```{r echo=F, fig.width=15}
library(maps)
library(ggplot2)
library(RColorBrewer)
library(mapproj)

new_theme_empty <- theme_bw()  # Create our own, mostly blank, theme
new_theme_empty$line <- element_blank()
new_theme_empty$rect <- element_blank()
new_theme_empty$strip.text <- element_blank()
new_theme_empty$axis.text <- element_blank()
new_theme_empty$axis.title <- element_blank()
new_theme_empty$plot.margin <- structure(c(0, 0, -1, -1), unit = "lines", valid.unit = 3L, class = "unit")

stateShapes <- map("state", plot = FALSE, fill = TRUE)
stateShapes <- fortify(stateShapes)  # Load state shapefiles and convert to a data.frame

uniqueStates <- sort(unique(stateShapes$region))
stateResults <- runif(length(uniqueStates), 0, 100)
names(stateResults) <- uniqueStates  # Romney vote / Obama vote:
stateResults["alabama"] <- 60.7/38.4; stateResults["arizona"] <- 55/43.4; stateResults["arkansas"] <- 60.4/37.0
stateResults["california"] <- 38.5/59.2; stateResults["colorado"] <- 47/50.7; stateResults["connecticut"] <- 40.6/58.3
stateResults["delaware"] <- 40/58.6; stateResults["district of columbia"] <- NA; stateResults["florida"] <- 49.3/49.8  # 7.1/91.4
stateResults["georgia"] <- 53.4/45.4; stateResults["idaho"] <- 65.8/31.5; stateResults["illinois"] <- 41.1/57.3
stateResults["indiana"] <- 54.3/43.8; stateResults["iowa"] <- 46.5/52.1; stateResults["kansas"] <- 59.9/37.9
stateResults["kentucky"] <- 60.5/37.8; stateResults["louisiana"] <- 58.5/39.8; stateResults["maine"] <- 40.3/56.3
stateResults["maryland"] <- 37/61.2; stateResults["massachusetts"] <- 37.5/60.9; stateResults["michigan"] <- 45.5/53.6
stateResults["minnesota"] <- 45.1/52.8; stateResults["mississippi"] <- 55.4/43.6; stateResults["missouri"] <- 53.9/44.3
stateResults["montana"] <- 56.6/41.5; stateResults["nebraska"] <- 60.5/37.8; stateResults["nevada"] <- 45.7/52.3
stateResults["new hampshire"] <- 46.7/52; stateResults["new jersey"] <- 51.0/57.9; stateResults["new mexico"] <- 43/52.9
stateResults["new york"] <- 35.9/62.7; stateResults["north carolina"] <- 50.6/48.4; stateResults["north dakota"] <- 58.7/38.9
stateResults["ohio"] <- 48.2/50.1; stateResults["oklahoma"] <- 66.8/33.2; stateResults["oregon"] <- 44.1/53.3
stateResults["pennsylvania"] <- 46.8/51.9; stateResults["rhode island"] <- 35.2/63.1; stateResults["south carolina"] <- 55/43.7
stateResults["south dakota"] <- 57.9/39.9; stateResults["tennessee"] <- 59.5/39; stateResults["texas"] <- 57.2/41.4
stateResults["utah"] <- 72.7/24.9; stateResults["vermont"] <- 31.2/67.1; stateResults["virginia"] <- 47.8/50.8
stateResults["washington"] <- 42.8/55.2; stateResults["west virginia"] <- 42.8/55.2; stateResults["wisconsin"] <- 62.3/35.5
stateResults["wyoming"] <- 69.3/28

stateResults <- 100 * stateResults / (stateResults + 1)  # Convert to proportion of the two-party vote

stateShapes$repVote <- by(stateResults, uniqueStates, mean)[stateShapes$region]  # Add results to shapefile frame

myPalette <- colorRampPalette(rev(brewer.pal(11, "RdYlBu")))  # Make a custom color palette
normalize <- function(x){  (x - min(x, na.rm = T)) / (max(x, na.rm = T) - min(x, na.rm = T))  }
myPalette <- colorRampPalette(myPalette(1000)[round(1000 * normalize(qbeta(1:999 /1000, 1/3, 1/3)))])
myPalette <- myPalette(1000)#[0:700]  # Not needed, if you leave out DC, which really skews the palette

mapPlot <- ggplot(stateShapes,
                  aes(x = long, y = lat, group = group,
                      fill = repVote))
mapPlot <- mapPlot + geom_polygon(colour = "BLACK")
mapPlot <- mapPlot + coord_map(project="conic", lat0 = 30)
mapPlot <- mapPlot + new_theme_empty
mapPlot <- mapPlot + scale_fill_gradientn("Romney Prop.\nof the 2PV",
                                          colours = myPalette)
mapPlot <- mapPlot + ggtitle("2012 Election Returns by State")
print(mapPlot)
```

R graphics - Maps
========================================================
![] (http://i1.wp.com/dsparks.files.wordpress.com/2011/10/cces-2010-abortion-attitudes-black.png)

R graphics - Maps
========================================================
**Crime density in Baltimore**
<div align="center">
<img src="http://i2.wp.com/www.obscureanalytics.com/wp-content/uploads/2012/12/AGG._ASSAULT.png" width=800 height=600>
</div>

R graphics - Maps
========================================================
![] (http://i.stack.imgur.com/rArqc.jpg)

R graphics - Maps
========================================================
<div align="center">
<img src="http://i1.wp.com/f.hypotheses.org/wp-content/blogs.dir/253/files/2015/02/Rplot-19.png?w=456" width=800 height=600>
</div>

R graphics - Maps
========================================================

![R facebook map] (http://paulbutler.org/archives/visualizing-facebook-friends/facebook_map.png)


R statistics - Summary statistics ouput
========================================================
You can get summary or regression statistics using the [stargazer package](http://www.r-statistics.com/2013/01/stargazer-package-for-beautiful-latex-tables-from-r-statistical-models-output/)

<div align="center">
<img src="http://www.r-statistics.com/wp-content/uploads/2013/07/table_example_1.bmp" width=600 height=500>
</div>

========================================================
  
## Where did you think this presentation was done?

R can also produce written reports, PDFs' and Powerpoint presentations.

Checkout the fantastic Rmarkdown [here](https://rpubs.com/bcavness1/crrp2) and [here](https://rpubs.com/carahubbell/toothgrowth)

But of course, it's not built to write research papers, it's more for:
- Blog posts;
- Materials for training workshops;
- Short consulting reports;
- Exploratory analyses as part of a larger project;

There's also Powerpoint presentations with [slidify](http://blmoore.bitbucket.org/edbio/#1)  

Exercises for your students
========================================================
With the [swirl](http://swirlstats.com/) package you can program exercises and homeworks that students can do anywhere.  
Try it out yourself:
```{r echo=T}
## Run this in your console
library("swirl")
swirl()
```

========================================================
# Thank you!

Extra: R statistics - Regression output
========================================================
Try it out yourself:
```{r eval=F}
## Run this in your console
library(stargazer)
m1 <- lm(mpg ~ hp, data=mtcars)
m2 <- lm(mpg ~ hp + drat + am, data=mtcars)
stargazer(m1, m2, type="text",
 dep.var.labels=c("Miles/(US) gallon","Fast car (=1)"),
 covariate.labels=c("Gross horsepower","Rear axle ratio","Four foward gears"))
```
